<app-login #loginModal></app-login>
<app-event-creator #createModal></app-event-creator>


<div class="ui secondary attached stackable menu">
  <div class="ui container">
    <a class="item" routerLink="/">
      <i class="home icon"></i> Home
    </a>
    <a class="item">
      <i class="grid layout icon"></i> Browse
    </a>
    
    <ng-container *ngIf="(user$ | async)?.uid; else createNotLoggedIn">
      <a class="item" (click)="createModal.open()">
        <i class="calendar plus outline icon blue"></i> Add event
      </a>
    </ng-container>
    <ng-template #createNotLoggedIn>
      <a class="item" (click)="loginModal.open()">
        <i class="calendar plus outline icon blue"></i> Add event
      </a>
    </ng-template>
    
    <div class="right item">
      <app-search></app-search>
      <ng-container *ngIf="(user$ | async)?.uid; else notLoggedIn">
        <div class="ui simple dropdown item">
          {{(user$ | async)?.displayName}}
          <i class="dropdown icon"></i>
          <div class="menu">
            <a class="item" routerLink="/account"><i class="user icon"></i> Profile</a>
            <!--<a class="item"><i class="globe icon"></i> Choose Language</a>-->
            <a class="item" routerLink="/settings"><i class="settings icon"></i> Account Settings</a>
            <a class="item" (click)="logout()"><i class="logout icon"></i> Logout</a>
          </div>
        </div>
      </ng-container>
      <ng-template #notLoggedIn>
        <a class="item" (click)="loginModal.open()">
          Login
        </a>
      
      </ng-template>
    </div>
  </div>
</div>
